/*
 * Copyright (c) 2022 QuizPoint
 * All rights reserved.
 */

/**========================================================================
 **                           Generate
 *?  What does it do? Generates Reports from data
 *@param name type  
 *@param name type  
 *@return type
 *========================================================================**/
function generate(_object, _fields) {
    if (user === undefined) {
        alert("You cannot export pdfs without being signed in.")
    } else {
        //*create new jspdf
        var doc = new jspdf.jsPDF()
            //* start pdf declare
        let bodyContent = []
            //*header rows
        var head = [
                ['ID', 'Name', 'Email']
            ]
            //* add row content for each value in object array
        for (var i = 0; i < _object.length; i++) {
            let rowContent = []
            let row1 = _object[i].studentID
            let row2 = _object[i].name
            let row3 = _object[i].email
                //* push to row
            rowContent.push(row1, row2, row3)
                //* push to body
            bodyContent.push(rowContent)
        }
        //*doc.autotable module
        doc.autoTable({ head: head, body: bodyContent })
            //*create report header
        const d = new Date();

        doc.text("Report - Student List in 9PTEC", 10, 10);
        doc.setFontSize(9);

        doc.text(`QuizPoint | Generated by ${user.name}`, 10, 280);

        //? this is here as a place holder
        let reportName = 'studentlist'
            //* save pdf to user.
        doc.save(`report_${reportName}.pdf`)
    }
}